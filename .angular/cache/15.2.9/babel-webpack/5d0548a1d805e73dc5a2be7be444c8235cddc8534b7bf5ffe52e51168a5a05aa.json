{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@fortawesome/angular-fontawesome\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../button/button.component\";\nfunction CourseFormComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"Title is required and must be at least 2 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseFormComponent_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"Description is required and must be at least 2 characters.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseFormComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"i\", 25);\n    i0.ɵɵlistener(\"click\", function CourseFormComponent_div_26_Template_i_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.removeAuthor(i_r5));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const author_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", author_r4.value, \" \");\n  }\n}\nfunction CourseFormComponent_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"Duration must be a non-negative number.\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class CourseFormComponent {\n  constructor(fb, library) {\n    this.fb = fb;\n    this.library = library;\n    this.availableAuthors = [{\n      id: 1,\n      name: \"Author 1\"\n    }, {\n      id: 2,\n      name: \"Author 2\"\n    }];\n    this.courseAuthors = [];\n    this.library.addIconPacks(fas);\n    this.courseForm = this.fb.group({\n      title: [\"\", [Validators.required, Validators.minLength(2)]],\n      description: [\"\", [Validators.required, Validators.minLength(2)]],\n      author: [\"\", [Validators.pattern(\"^[a-zA-Z0-9 ]*$\")]],\n      authors: this.fb.array([]),\n      duration: [0, [Validators.required, Validators.min(0)]]\n    });\n  }\n  get title() {\n    return this.courseForm.get(\"title\");\n  }\n  get description() {\n    return this.courseForm.get(\"description\");\n  }\n  get author() {\n    return this.courseForm.get(\"author\");\n  }\n  get authors() {\n    return this.courseForm.get(\"authors\");\n  }\n  get duration() {\n    return this.courseForm.get(\"duration\");\n  }\n  addAuthor(author) {\n    this.courseAuthors.push(author);\n    this.availableAuthors = this.availableAuthors.filter(a => a.id !== author.id);\n    this.authors.push(this.fb.control(author));\n  }\n  removeAuthor(author) {\n    this.availableAuthors.push(author);\n    this.courseAuthors = this.courseAuthors.filter(a => a.id !== author.id);\n    const index = this.authors.controls.findIndex(control => control.value.id === author.id);\n    this.authors.removeAt(index);\n  }\n  createAuthor() {\n    if (this.author?.valid) {\n      const newAuthor = {\n        id: Math.floor(Math.random() * 1000),\n        name: this.author?.value\n      };\n      this.availableAuthors.push(newAuthor);\n      this.author?.reset();\n    }\n  }\n  isControlInvalid(control) {\n    return !!(control && control.invalid && (control.touched || control.dirty));\n  }\n  onSubmit() {\n    if (this.courseForm.valid) {\n      console.log(\"Form Submitted:\", this.courseForm.value);\n    } else {\n      console.error(\"Form is invalid\");\n    }\n  }\n  formatDuration(minutes) {\n    if (minutes <= 0) return \"00:00\";\n    const hours = Math.floor(minutes / 60);\n    const mins = minutes % 60;\n    return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}`;\n  }\n}\nCourseFormComponent.ɵfac = function CourseFormComponent_Factory(t) {\n  return new (t || CourseFormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FaIconLibrary));\n};\nCourseFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CourseFormComponent,\n  selectors: [[\"app-course-form\"]],\n  decls: 41,\n  vars: 9,\n  consts: [[3, \"formGroup\"], [1, \"app-plate\"], [1, \"course\"], [1, \"text-xl\", \"font-semibold\"], [1, \"form__control\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"formControlName\", \"title\", \"placeholder\", \"Input text\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"for\", \"description\"], [\"id\", \"description\", \"formControlName\", \"description\", \"placeholder\", \"Input text\", \"rows\", \"4\", \"cols\", \"5\"], [1, \"separator\"], [\"for\", \"authors\"], [1, \"course__flex\"], [\"type\", \"text\", \"formControlName\", \"author\", \"placeholder\", \"Input Author Name\"], [3, \"buttonText\", \"click\"], [1, \"course__authors\", \"flex\", \"flex-col\"], [\"class\", \"author-item\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"id\", \"duration\", \"formControlName\", \"duration\", \"placeholder\", \"Input duration\"], [1, \"font-semibold\", \"ml-2\"], [1, \"ml-1\"], [1, \"form__action\", \"flex\", \"justify-end\", \"gap-2\"], [1, \"inline-flex\", 3, \"buttonText\"], [1, \"text-danger\"], [1, \"author-item\"], [1, \"flex\", \"w-full\"], [1, \"fas\", \"fa-trash\", 3, \"click\"]],\n  template: function CourseFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h2\");\n      i0.ɵɵtext(1, \"Create / Edit Course\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0)(3, \"div\", 1)(4, \"div\", 2)(5, \"h3\", 3);\n      i0.ɵɵtext(6, \"Main Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"label\", 5);\n      i0.ɵɵtext(10, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 6);\n      i0.ɵɵtemplate(12, CourseFormComponent_span_12_Template, 2, 0, \"span\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 8);\n      i0.ɵɵtext(15, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"textarea\", 9);\n      i0.ɵɵtemplate(17, CourseFormComponent_span_17_Template, 2, 0, \"span\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"div\", 10);\n      i0.ɵɵelementStart(19, \"label\", 11);\n      i0.ɵɵtext(20, \"Authors\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 4)(22, \"div\", 12);\n      i0.ɵɵelement(23, \"input\", 13);\n      i0.ɵɵelementStart(24, \"app-button\", 14);\n      i0.ɵɵlistener(\"click\", function CourseFormComponent_Template_app_button_click_24_listener() {\n        let tmp_b_0;\n        return ctx.addAuthor((tmp_b_0 = ctx.courseForm.get(\"author\")) == null ? null : tmp_b_0.value);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"div\", 15);\n      i0.ɵɵtemplate(26, CourseFormComponent_div_26_Template, 4, 1, \"div\", 16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(27, \"div\", 10);\n      i0.ɵɵelementStart(28, \"h3\");\n      i0.ɵɵtext(29, \"Duration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"div\", 4)(31, \"div\", 12);\n      i0.ɵɵelement(32, \"input\", 17);\n      i0.ɵɵelementStart(33, \"div\", 18);\n      i0.ɵɵtext(34);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"span\", 19);\n      i0.ɵɵtext(36, \"hours\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(37, CourseFormComponent_span_37_Template, 2, 0, \"span\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"div\", 20);\n      i0.ɵɵelement(39, \"app-button\", 21)(40, \"app-button\", 21);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_6_0;\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.courseForm);\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.courseForm.get(\"title\")) == null ? null : tmp_1_0.invalid) && ((tmp_1_0 = ctx.courseForm.get(\"title\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.courseForm.get(\"description\")) == null ? null : tmp_2_0.invalid) && ((tmp_2_0 = ctx.courseForm.get(\"description\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"buttonText\", \"CREATE AUTHOR\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.authors.controls);\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\" \", ctx.formatDuration(ctx.duration == null ? null : ctx.duration.value), \" \");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.courseForm.get(\"duration\")) == null ? null : tmp_6_0.invalid) && ((tmp_6_0 = ctx.courseForm.get(\"duration\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"buttonText\", \"CANCEL\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"buttonText\", \"CREATE COURSE\");\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i4.ButtonComponent],\n  styles: [\".app-plate[_ngcontent-%COMP%] {\\n  width: 100%;\\n  min-height: 477px;\\n  background-color: #fff;\\n  border: 1px solid #CFCFCF;\\n  border-radius: 4px;\\n  padding: 32px;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.text-align-center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.app-error-text[_ngcontent-%COMP%] {\\n  color: #FF0000;\\n  position: absolute;\\n  margin-top: 4px;\\n}\\n\\n.form__control[_ngcontent-%COMP%] {\\n  margin-bottom: 24px;\\n}\\n.form__action[_ngcontent-%COMP%] {\\n  margin-top: 54px;\\n}\\n.form__text[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-top: 38px;\\n  flex-wrap: wrap;\\n}\\n\\n.separator[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-bottom: 1px solid #CFCFCF;\\n}\\n\\n.text-danger[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.course[_ngcontent-%COMP%] {\\n  min-width: 60vw;\\n}\\n.course__flex[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: baseline;\\n}\\n.course__flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n.course__flex[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%] {\\n  margin-left: 16px;\\n}\\n.course__flex[_ngcontent-%COMP%]   .course__duration[_ngcontent-%COMP%] {\\n  margin-left: 16px;\\n}\\n.course__authors[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  display: flex;\\n}\\n.course__authors-item[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n.course__icon[_ngcontent-%COMP%] {\\n  margin-left: 4px;\\n  cursor: pointer;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL3N0eWxlcy9zdHlsZXMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NvbXBvbmVudHMvY291cnNlLWZvcm0vY291cnNlLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxzQkFQVTtFQVFWLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0FDSEo7O0FETUE7RUFDSSxrQkFBQTtBQ0hKOztBRE1BO0VBQ0ksY0FsQlE7RUFtQlIsa0JBQUE7RUFDQSxlQUFBO0FDSEo7O0FET0k7RUFDSSxtQkFBQTtBQ0pSO0FET0k7RUFDSSxnQkFBQTtBQ0xSO0FEUUk7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0YsZUFBQTtBQ05OOztBRFVBO0VBQ0ksV0FBQTtFQUNBLGdDQUFBO0FDUEo7O0FEVUE7RUFDSSxVQUFBO0FDUEo7O0FBdENBO0VBQ0MsZUFBQTtBQXlDRDtBQXZDRTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLHFCQUFBO0FBeUNKO0FBdkNJO0VBQ0UsT0FBQTtBQXlDTjtBQXRDSTtFQUNFLGlCQUFBO0FBd0NOO0FBckNJO0VBQ0UsaUJBQUE7QUF1Q047QUFuQ0U7RUFDRSxlQUFBO0VBQ0EsYUFBQTtBQXFDSjtBQW5DSTtFQUNFLGtCQUFBO0FBcUNOO0FBakNFO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FBbUNKIiwic291cmNlc0NvbnRlbnQiOlsiJGNvbG9yLXdoaXRlOiAjZmZmO1xyXG4kY29sb3ItZ3JheTogI0NGQ0ZDRjtcclxuJGNvbG9yLXJlZDogI0ZGMDAwMDtcclxuXHJcbi5hcHAtcGxhdGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtaW4taGVpZ2h0OiA0NzdweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICRjb2xvci13aGl0ZTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICRjb2xvci1ncmF5O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG4gICAgcGFkZGluZzogMzJweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuLnRleHQtYWxpZ24tY2VudGVyIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmFwcC1lcnJvci10ZXh0IHtcclxuICAgIGNvbG9yOiAkY29sb3ItcmVkO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbWFyZ2luLXRvcDogNHB4O1xyXG59XHJcblxyXG4uZm9ybSB7XHJcbiAgICAmX19jb250cm9sIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAyNHB4O1xyXG4gICAgfVxyXG5cclxuICAgICZfX2FjdGlvbiB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogNTRweDtcclxuICAgIH1cclxuXHJcbiAgICAmX190ZXh0IHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMzhweDtcclxuICAgICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAgfVxyXG59XHJcblxyXG4uc2VwYXJhdG9yIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICRjb2xvci1ncmF5O1xyXG59XHJcblxyXG4udGV4dC1kYW5nZXIge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4iLCJAaW1wb3J0ICdzcmMvYXBwL3NoYXJlZC9zdHlsZXMvc3R5bGVzJztcclxuXHJcbi5jb3Vyc2Uge1xyXG4gbWluLXdpZHRoOiA2MHZ3O1xyXG5cclxuICAmX19mbGV4IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7XHJcblxyXG4gICAgJiBpbnB1dCB7XHJcbiAgICAgIGZsZXg6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgJiBhcHAtYnV0dG9uIHtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDE2cHg7XHJcbiAgICB9XHJcblxyXG4gICAgJiAuY291cnNlX19kdXJhdGlvbiB7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAxNnB4O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJl9fYXV0aG9ycyB7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG5cclxuICAgICYtaXRlbSB7XHJcbiAgICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICZfX2ljb24ge1xyXG4gICAgbWFyZ2luLWxlZnQ6IDRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","fas","i0","CourseFormComponent","constructor","fb","library","id","name","addIconPacks","courseForm","group","title","required","minLength","description","author","pattern","authors","array","duration","min","get","addAuthor","courseAuthors","push","availableAuthors","filter","a","control","removeAuthor","index","controls","findIndex","value","removeAt","createAuthor","valid","newAuthor","Math","floor","random","reset","isControlInvalid","invalid","touched","dirty","onSubmit","console","log","error","formatDuration","minutes","hours","mins","toString","padStart","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Isti\\Desktop\\epam-tasks\\angular-fundamentals-template\\src\\app\\shared\\components\\course-form\\course-form.component.ts","C:\\Users\\Isti\\Desktop\\epam-tasks\\angular-fundamentals-template\\src\\app\\shared\\components\\course-form\\course-form.component.html"],"sourcesContent":["import { Component } from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, FormArray, Validators, AbstractControl } from \"@angular/forms\";\r\nimport { FaIconLibrary } from \"@fortawesome/angular-fontawesome\";\r\nimport { fas } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\n@Component({\r\n  selector: \"app-course-form\",\r\n  templateUrl: \"./course-form.component.html\",\r\n  styleUrls: [\"./course-form.component.scss\"],\r\n})\r\nexport class CourseFormComponent {\r\n  courseForm: FormGroup;\r\n\r\n  availableAuthors: { id: number; name: string }[] = [\r\n    { id: 1, name: \"Author 1\" },\r\n    { id: 2, name: \"Author 2\" },\r\n  ];\r\n\r\n  courseAuthors: { id: number; name: string }[] = [];\r\n\r\n  constructor(private fb: FormBuilder, private library: FaIconLibrary) {\r\n    this.library.addIconPacks(fas);\r\n    this.courseForm = this.fb.group({\r\n      title: [\"\", [Validators.required, Validators.minLength(2)]],\r\n      description: [\"\", [Validators.required, Validators.minLength(2)]],\r\n      author: [\"\", [Validators.pattern(\"^[a-zA-Z0-9 ]*$\")]], // Validation for Latin letters/numbers\r\n      authors: this.fb.array([]), // Will use FormArray to handle added authors\r\n      duration: [0, [Validators.required, Validators.min(0)]],\r\n    });\r\n  }\r\n\r\n  get title() {\r\n    return this.courseForm.get(\"title\");\r\n  }\r\n\r\n  get description() {\r\n    return this.courseForm.get(\"description\");\r\n  }\r\n\r\n  get author() {\r\n    return this.courseForm.get(\"author\");\r\n  }\r\n\r\n  get authors() {\r\n    return this.courseForm.get(\"authors\") as FormArray;\r\n  }\r\n\r\n  get duration() {\r\n    return this.courseForm.get(\"duration\");\r\n  }\r\n\r\n  addAuthor(author: any) {\r\n    this.courseAuthors.push(author);\r\n    this.availableAuthors = this.availableAuthors.filter((a) => a.id !== author.id);\r\n    this.authors.push(this.fb.control(author));\r\n  }\r\n\r\n  removeAuthor(author: any) {\r\n    this.availableAuthors.push(author);\r\n    this.courseAuthors = this.courseAuthors.filter((a) => a.id !== author.id);\r\n    const index = this.authors.controls.findIndex((control) => control.value.id === author.id);\r\n    this.authors.removeAt(index);\r\n  }\r\n\r\n  createAuthor() {\r\n    if (this.author?.valid) {\r\n      const newAuthor = {\r\n        id: Math.floor(Math.random() * 1000),\r\n        name: this.author?.value,\r\n      };\r\n      this.availableAuthors.push(newAuthor);\r\n      this.author?.reset();\r\n    }\r\n  }\r\n\r\n  isControlInvalid(control: AbstractControl | null): boolean {\r\n    return !!(control && control.invalid && (control.touched || control.dirty));\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.courseForm.valid) {\r\n      console.log(\"Form Submitted:\", this.courseForm.value);\r\n    } else {\r\n      console.error(\"Form is invalid\");\r\n    }\r\n  }\r\n\r\n  formatDuration(minutes: number): string {\r\n    if (minutes <= 0) return \"00:00\";\r\n    const hours = Math.floor(minutes / 60);\r\n    const mins = minutes % 60;\r\n    return `${hours.toString().padStart(2, \"0\")}:${mins.toString().padStart(2, \"0\")}`;\r\n  }\r\n}\r\n","<h2>Create / Edit Course</h2>\r\n<form [formGroup]=\"courseForm\">\r\n  <div class=\"app-plate\">\r\n    <div class=\"course\">\r\n      <h3 class=\"text-xl font-semibold\">Main Info</h3>\r\n      <br />\r\n      <div class=\"form__control\">\r\n        <label for=\"title\">Title</label>\r\n        <input type=\"text\" id=\"title\" formControlName=\"title\" placeholder=\"Input text\" />\r\n        <span *ngIf=\"courseForm.get('title')?.invalid && courseForm.get('title')?.touched\" class=\"text-danger\"\r\n          >Title is required and must be at least 2 characters.</span\r\n        >\r\n      </div>\r\n      <div class=\"form__control\">\r\n        <label for=\"description\">Description</label>\r\n        <textarea id=\"description\" formControlName=\"description\" placeholder=\"Input text\" rows=\"4\" cols=\"5\"></textarea>\r\n        <span\r\n          *ngIf=\"courseForm.get('description')?.invalid && courseForm.get('description')?.touched\"\r\n          class=\"text-danger\"\r\n          >Description is required and must be at least 2 characters.</span\r\n        >\r\n      </div>\r\n      <div class=\"separator\"></div>\r\n      <label for=\"authors\">Authors</label>\r\n      <div class=\"form__control\">\r\n        <div class=\"course__flex\">\r\n          <input type=\"text\" formControlName=\"author\" placeholder=\"Input Author Name\" />\r\n          <app-button (click)=\"addAuthor(courseForm.get('author')?.value)\" [buttonText]=\"'CREATE AUTHOR'\"></app-button>\r\n        </div>\r\n        <div class=\"course__authors flex flex-col\">\r\n          <div *ngFor=\"let author of authors.controls; let i = index\" class=\"author-item\">\r\n            <div class=\"flex w-full\">\r\n              {{ author.value }}\r\n              <i class=\"fas fa-trash\" (click)=\"removeAuthor(i)\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"separator\"></div>\r\n      <h3>Duration</h3>\r\n      <div class=\"form__control\">\r\n        <div class=\"course__flex\">\r\n          <input type=\"number\" id=\"duration\" formControlName=\"duration\" placeholder=\"Input duration\" />\r\n          <div class=\"course__duration\" class=\"font-semibold ml-2\">\r\n            {{ formatDuration(duration?.value) }}\r\n          </div>\r\n          <span class=\"ml-1\">hours</span>\r\n        </div>\r\n        <span *ngIf=\"courseForm.get('duration')?.invalid && courseForm.get('duration')?.touched\" class=\"text-danger\"\r\n          >Duration must be a non-negative number.</span\r\n        >\r\n      </div>\r\n      <div class=\"form__action flex justify-end gap-2\">\r\n        <app-button [buttonText]=\"'CANCEL'\" class=\"inline-flex\"></app-button>\r\n        <app-button [buttonText]=\"'CREATE COURSE'\" class=\"inline-flex\"></app-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}